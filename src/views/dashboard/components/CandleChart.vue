<!-- 蜡烛图 / K 线图 -->
<template>
  <el-card>
    <template #header> K 线图 </template>
    <div :id="id" :class="className" :style="{ height, width }"></div>
  </el-card>
</template>

<script setup lang="ts">
import * as echarts from "echarts";

const props = defineProps({
  id: {
    type: String,
    default: "CandleChart",
  },
  className: {
    type: String,
    default: "",
  },
  width: {
    type: String,
    default: "200px",
    required: true,
  },
  height: {
    type: String,
    default: "200px",
    required: true,
  },
});

const options = {
  xAxis: {
    data: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99'],
  },
  yAxis: {
    min: 0,
    max: 100,
    type: "value",
    axisLine: { onZero: true },
  },
  series: [
    {
      type: "candlestick",
      data: [[6.9, 74.2, 80.0, 11.7], [70.5, 79.3, 99.8, 71.2], [59.0, 96.1, 97.7, 7.3], [28.3, 15.8, 34.4, 39.8], [98.8, 11.2, 1.6, 15.7], [4.4, 72.5, 54.9, 5.2], [70.9, 70.1, 85.0, 94.9], [79.7, 51.7, 78.3, 65.5], [82.1, 95.5, 31.1, 58.3], [65.2, 93.8, 45.5, 30.8], [65.1, 18.0, 85.9, 9.7], [67.9, 93.5, 19.4, 36.1], [58.4, 29.8, 94.2, 8.6], [3.4, 83.2, 98.1, 74.0], [9.0, 74.5, 60.4, 76.0], [70.6, 37.5, 39.8, 41.3], [61.0, 76.8, 56.8, 1.4], [86.2, 20.0, 99.1, 11.9], [34.5, 63.3, 35.6, 31.9], [25.7, 53.1, 23.4, 1.4], [68.6, 36.1, 29.9, 92.8], [79.0, 53.0, 3.7, 90.0], [74.2, 10.5, 9.1, 3.6], [60.1, 46.3, 85.4, 36.5], [64.6, 75.1, 91.6, 27.6], [71.0, 77.3, 17.2, 17.9], [23.3, 27.6, 70.6, 68.1], [48.1, 11.1, 13.9, 76.9], [11.2, 14.0, 15.9, 31.7], [6.8, 66.3, 97.1, 30.3], [0.9, 86.3, 27.3, 57.5], [32.6, 78.7, 1.3, 13.3], [59.4, 47.8, 22.7, 52.6], [35.9, 86.7, 81.4, 48.9], [8.2, 15.5, 51.3, 24.6], [32.8, 19.0, 45.1, 38.7], [48.6, 62.5, 59.5, 6.1], [8.7, 8.1, 82.5, 75.7], [15.2, 79.7, 5.4, 34.7], [93.9, 33.6, 22.5, 13.9], [97.3, 2.4, 35.5, 80.4], [77.7, 79.6, 27.3, 71.6], [97.4, 34.2, 2.9, 73.6], [83.3, 92.9, 11.9, 33.8], [71.6, 91.6, 79.0, 80.2], [77.7, 68.3, 49.6, 23.6], [53.2, 69.4, 8.7, 96.9], [74.4, 63.0, 63.6, 63.4], [61.6, 24.1, 90.9, 54.2], [39.6, 88.5, 66.9, 61.2], [41.8, 60.5, 6.1, 15.8], [33.6, 65.2, 98.4, 2.5], [51.7, 22.0, 84.5, 99.2], [43.3, 91.8, 9.6, 5.6], [98.8, 83.4, 81.7, 39.1], [30.2, 50.1, 67.5, 63.0], [1.2, 12.4, 54.7, 55.7], [56.6, 34.8, 23.1, 4.6], [1.0, 84.1, 93.6, 47.4], [66.5, 39.3, 48.1, 69.2], [99.3, 20.9, 32.1, 1.4], [65.2, 98.7, 80.6, 90.0], [3.3, 46.9, 95.3, 4.9], [82.4, 27.6, 89.3, 64.2], [40.0, 75.6, 26.8, 69.5], [3.1, 20.1, 59.1, 46.1], [1.4, 88.2, 14.0, 57.8], [96.2, 17.3, 91.4, 65.1], [78.9, 60.2, 99.0, 28.8], [47.7, 5.1, 24.0, 53.4], [95.4, 78.8, 6.6, 41.8], [5.4, 83.7, 54.3, 20.1], [52.0, 62.0, 92.8, 66.3], [89.5, 71.8, 85.9, 41.8], [87.5, 67.8, 48.6, 24.6], [46.0, 65.1, 27.8, 19.3], [45.3, 85.1, 32.5, 61.2], [19.3, 20.9, 90.9, 44.8], [94.3, 60.1, 33.9, 60.0], [68.7, 62.6, 40.8, 21.1], [63.5, 78.1, 85.0, 85.3], [24.1, 48.6, 33.0, 76.8], [5.5, 7.6, 32.1, 79.5], [68.0, 100.0, 13.7, 22.3], [60.0, 9.9, 49.6, 88.2], [18.2, 2.4, 60.1, 42.7], [30.5, 26.9, 27.9, 40.0], [89.4, 67.8, 12.3, 5.9], [26.5, 34.7, 72.6, 77.6], [28.7, 71.1, 19.9, 94.7], [29.8, 3.6, 78.9, 4.6], [28.2, 80.0, 13.7, 27.7], [53.1, 36.8, 99.2, 98.9], [71.6, 92.0, 48.3, 29.5], [99.5, 51.7, 78.7, 49.6], [45.1, 99.4, 23.2, 40.6], [90.4, 20.4, 83.4, 76.8], [92.2, 32.5, 68.0, 8.6], [59.9, 9.5, 0.4, 81.9], [16.8, 58.0, 83.9, 63.3]],
    },
  ],
  dataZoom: [
    {
      type: "slider",
      xAxisIndex: 0,
      filterMode: "none",
    },
    {
      type: "slider",
      yAxisIndex: 0,
      filterMode: "none",
    },
    {
      type: "inside",
      xAxisIndex: 0,
      filterMode: "none",
    },
    {
      type: "inside",
      yAxisIndex: 0,
      filterMode: "none",
    },
  ],
};

onMounted(() => {
  const chart = echarts.init(
    document.getElementById(props.id) as HTMLDivElement
  );
  chart.setOption(options);
  window.addEventListener("resize", () => {
    chart.resize();
  });
});
</script>
